<html>
    <head>
        <title>aa</title>
     <link rel="stylesheet" type="text/css" href="../css/left.css" />
     <meta name="viweport" content="width=device-width, initial-scale=1.0,
     maximum-scale=1.0, user-scalable=0">
     <link rel="stylesheet" type="text/css" href="../css/index.css" />
     <link rel="stylesheet" type="text/css" href="../css/yingyiquan.css" />
     
    </script>
    </head>
    <body>
      <header>
 
        <div id="head">
          <!--
          <img id="headImg" src="src/night.jpg"/>
          <img id="headImg1" src="src/DSC_1689.jpg"/>
          <img id="headImg2" src="src/DSC_1661.jpg"/>
        -->
        </div>
         <div id="space">
           <div id="searchDiv">
              <!-- 达到input居中，需要在input中加多一个div盒子
              想要input和ICon垂直对齐，放在同一行间元素<span>
                
              -->
              <span>
              <img id="searchIcon" src="../src/search.png">
              <input id="search" type="search" placeholder="What do you want"></input>
              
            </span>
             <img id="showRBtn" src="../src/menu.png" />
            </div>
          </div>
        
         </header>
         <article>
          <div id="right">
            <div id="logoDiv">
               <img id="logoImg" src="../src/logoName.png" alt="Logo">
            </div>
            <div id="cusInfo">
               <img id="cusImg" src="../src/custDefault.png" alt="ICON"/>
               <label id="cusName" name="cusName"><a href="../login.html">登录</a>/<a href="../register.html">注册</a></label>
            </div>
            <!--
            <script>
             var cusName=document.getElementById("cusName");
             if(cusName.value!=""){
               cusName.innerHTML="<span>"+cusName.value+"</span>";
             }
            </script>
            -->
            <div id="menuDiv">
              <ul id="ulList">
               <a href="../index.html"> <li id="indexLi"><span></span>
                首页
                </li></a>
                <a href="page/model.html">
               <li id="momentLi">
                 <span></span>模特
                </li></a>
                <a><li id="findMLi"><span></span>
                 摄影师
                </li></a>
               <a> <li id="findPLi"><span></span>影艺圈
                </li></a>
                <a><li id="learntLi"><span></span><a>新手指南</a>
                </li></a>
              </ul>
           </div>
          </div>

         <div id="left" style="background-color:unset ">
           <div class="list-box"> 
             <ul class="list">
             <li class="list-1" id="list-1" ></li>
             <li class="list-2" id="list-2" ></li>
            </ul>
           </div>
         
           <div id="contain">
             <div class="box">
               <div class="box_img">
                 <img src="../src/DSC_0570.jpg">
                 </div>
             </div>

             <div class="box">
                <div class="box_img">
                  <img src="../src/DSC_0088.jpg">
                  </div>
              </div>
              
              <div class="box">
                  <div class="box_img">
                    <img src="../src/night.jpg">
                    </div>
                </div>

                <div class="box">
                    <div class="box_img">
                      <img src="../src/zk.jpg">
                      </div>
                  </div>

              <div class="box">
                      <div class="box_img">
                        <img src="../src/batman.jpg">
                        </div>
              </div>
              <div class="box">
                  <div class="box_img">
                    <img src="../src/DSC_0487_1.jpg">
                    </div>
                   
              </div>
              <div class="box">
                  <div class="box_img">
                    <img src="../src/DSC_1661.jpg">
                    </div>
              </div>  
              <div class="box">
                  <div class="box_img">
                    <img src="../src/DSC_0570.jpg">
                    </div>
                </div>

            <div class="box">
                    <div class="box_img">
                      <img src="../src/DSC_1689.jpg">
                      </div>
            </div>
         </div>   
        
        
        </div>
         


         </article>
       <!-- 瀑布流 -->
  <script>
  window.onload=function(){
       imgLocation("contain","box");
  }
  function imgLocation(parent,content){
    var cparent =document.getElementById(parent);
    var ccontent=getChildElement(cparent,content);
   var imgWidth=ccontent[0].offsetWidth;//获取宽度,宽度固定
   var cols=Math.floor(document.documentElement.clientWidth/imgWidth);//取整且计算第一排能承载的图片个数
   cparent.style.cssText="width:"+imgWidth*cols+"px;margin:0 auto";
  
     var boxHeightArr=[];//获取图片高度
     console.log(cols);
     for(var i=0;i<ccontent.length;i++){
     
       if(i<cols){
        boxHeightArr[i]=ccontent[i].offsetHeight;
       
       }//第一排个数的每个图片高度
       else{
         var minHeight=Math.min.apply(null,boxHeightArr);//apply可以存放数组
         
         var minIndex=getMinHeightLocation(boxHeightArr,minHeight);
         ccontent[i].style.position="absolute";
         ccontent[i].style.top=minHeight+"px";
        ccontent[i].style.left=ccontent[minIndex].offsetLeft+"px";  
        console.log(boxHeightArr[minIndex]);
        boxHeightArr[minIndex]=boxHeightArr[minHeight]+ccontent[i].offsetTop;
       //出错！！！！！！！！
        }
        
     }//循环结构，一直寻找最小高度
     
  }//一排放多少图片
  //得到第一排的最小高度的图片索引
  function getMinHeightLocation(boxHeightArr,minHeight){
    for (var i in boxHeightArr){
      if(boxHeightArr[i]==minHeight){
        return i;
      }
    }
  }

  /*
  获取元素，得到元素标签
  */
 function getChildElement(parent,content){
    var contentArr=[];
    var allContent=parent.getElementsByTagName("*");
    for (var i=0;i<allContent.length;i++){
      if(allContent[i].className==content){
        contentArr.push(allContent[i]);
      }
    }
    return contentArr;
  }
  
  </script>
    </body>
</html>